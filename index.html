<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https:&#x2F;&#x2F;zzf-pyf.github.io&#x2F;index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://zzf-pyf.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-datamining1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/13/datamining1/" class="article-date">
  <time datetime="2019-11-13T11:33:01.000Z" itemprop="datePublished">2019-11-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/13/datamining1/">datamining1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="数据分析与挖掘"><a href="#数据分析与挖掘" class="headerlink" title="数据分析与挖掘"></a>数据分析与挖掘</h3><h1 id="相关模块简介"><a href="#相关模块简介" class="headerlink" title="相关模块简介"></a>相关模块简介</h1><p>1.numpy可以高效的处理数据、提供数组支持、很多模块都依赖他，比如pandas、scipy、<br>matplotlib都依赖他，所以这模块是最基础的<br>2.pandas主要用于数据探索和数据分析  （核心）<br>3.matplotlib作图模块，解决可视化问题<br>4.scipy主要进行数值计算，同时支持矩阵运算，并提供了很多高等数据处理功能，<br>比如积分、傅里叶变换、微分方程求解。<br>5.statsmodels这个模块主要用于统计分析<br>6.Gensim这个模块主要用于文本挖掘<br>7.sklearn、keras前者机器学习，后者深度学习</p>
<p>#numpy示例<br>#导入一个模块时嫌它太长的时候，可以取一个别名import numpy as nn<br>···<br>import numpy<br>#为什么要用数组？？？  数组的运算效率要比列表高</p>
<p>#创建一维数组的格式<br>#numpy.array([元素1，元素2,..,元素n])<br>x=numpy.array([“a”,”9”,”8”,”2”])<br>#创建二维数组格式<br>#numpy.array([[元素1，元素2,..,元素n],[元素1，元素2,..,元素n],[元素1，元素2,..,元素n],…,[元素1，元素2,..,元素n]])<br>y=numpy.array([[3,13,10],[9,2,67],[2,6,11]])</p>
<p>#排序sort()<br>x.sort()<br>y.sort()#二维数组排序</p>
<p>#取最大值和最小值<br>y1=y.max()<br>y2=y.min()</p>
<p>#切片  按照下标取某一片的元素<br>#数组[起始下标:最终下标+1]<br>x1=x[1:3]#1-2<br>x2=x[:2]#0-1<br>x3=x[1:]#1-3<br>···</p>
<p>#pandas示例<br>import pandas as pda<br>‘’’<br>Series<br>DataFrame<br>‘’’<br>#创建一个Series的数据<br>a=pda.Series([8,9,2,1])<br>‘’’</p>
<blockquote>
<blockquote>
<blockquote>
<p>a<br>0    8<br>1    9<br>2    2<br>3    1<br>dtype: int64<br>‘’’<br>‘’’<br>b=pda.Series([8,9,2,1],index=[“one”,”two”,”three”,”four”])#指定索引格式</p>
</blockquote>
</blockquote>
</blockquote>
<p>c=pda.DataFrame([[5,6,2,3],[8,4,6,3],[6,4,31,2]])#创建数据框<br>‘’’</p>
<blockquote>
<blockquote>
<blockquote>
<p>c<br>   0  1   2  3<br>0  5  6   2  3<br>1  8  4   6  3<br>2  6  4  31  2</p>
</blockquote>
<p>‘’’<br>d=pda.DataFrame([[5,6,2,3],[8,4,6,3],[6,4,31,2]],columns=[“one”,”two”,”three”,”four”])#指定列名</p>
</blockquote>
</blockquote>
<p>#通过字典创建数据框<br>e=pda.DataFrame({<br>“one”:4,       #由于two有3个数据，所以one自动填充<br>“two”:[6,2,3],<br>“three”:list(str(982))<br>    })<br>‘’’<br>d.head()#调取数据框的头部数据，默认前五行 d.head(行数） 取前几行（行数）<br>d.tail()#尾部数据，默认后五行 d.tail(行数），取后几行<br>d.describe()#按列统计数据的情况</p>
<blockquote>
<blockquote>
<blockquote>
<p>d.describe()<br>            one       two      three      four<br>count  3.000000  3.000000   3.000000  3.000000     几个数据<br>mean   6.333333  4.666667  13.000000  2.666667      平均数<br>std    1.527525  1.154701  15.716234  0.577350     标准差<br>min    5.000000  4.000000   2.000000  2.000000     这一列所有数据的最小值<br>25%    5.500000  4.000000   4.000000  2.500000     25%分位数<br>50%    6.000000  4.000000   6.000000  3.000000<br>75%    7.000000  5.000000  18.500000  3.000000<br>max    8.000000  6.000000  31.000000  3.000000</p>
</blockquote>
</blockquote>
</blockquote>
<p>#转置(行列转）<br>d.T<br>‘’’</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/13/datamining1/" data-id="ck30fjt0g0001mku3084iczu2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reptile4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/09/reptile4/" class="article-date">
  <time datetime="2019-11-09T01:12:26.000Z" itemprop="datePublished">2019-11-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/09/reptile4/">reptile4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/09/reptile4/" data-id="ck30fjt0l0005mku33f3v57dp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reptile3-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/07/reptile3-1/" class="article-date">
  <time datetime="2019-11-07T01:18:48.000Z" itemprop="datePublished">2019-11-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/07/reptile3-1/">reptile3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="爬虫3-1"><a href="#爬虫3-1" class="headerlink" title="爬虫3-1"></a>爬虫3-1</h2><h1 id="隐藏"><a href="#隐藏" class="headerlink" title="隐藏"></a>隐藏</h1><p>1.在request对象生成之前，通过修改Request的headers参数<br>eg：head=()<br>    head[‘User-Agent’]=’Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36’</p>
<p>2.通过Request.add_header()方法修改<br>eg：req.add_header(‘User-Agent’,’Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request</span><br><span class="line">import urllib.parse</span><br><span class="line">import json       #美化程序得到用户需要的结果</span><br><span class="line"></span><br><span class="line">content=input(&apos;请输入需要翻译的内容&apos;)</span><br><span class="line"></span><br><span class="line">url=&apos;http://fanyi.youdao.com/translate?smartresult=dict&amp;smartresult=rule&apos;</span><br><span class="line"></span><br><span class="line">head=&#123;&#125;</span><br><span class="line">head[&apos;User-Agent&apos;]=&apos;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36&apos;</span><br><span class="line"></span><br><span class="line">data=&#123;&#125;</span><br><span class="line">data[&apos;i&apos;]=content</span><br><span class="line">data[&apos;from&apos;]=&apos;AUTO&apos;</span><br><span class="line">data[&apos;to&apos;]=&apos;AUTO&apos;</span><br><span class="line">data[&apos;smartresult&apos;]=&apos;dict&apos;</span><br><span class="line">data[&apos;client&apos;]=&apos;fanyideskweb&apos;</span><br><span class="line">data[&apos;salt&apos;]=&apos;15729229099067&apos;</span><br><span class="line">data[&apos;sign&apos;]=&apos;06ecc0ff66e31488dd986c3da62d2303&apos;</span><br><span class="line">data[&apos;ts&apos;]=&apos;1572922909906&apos;</span><br><span class="line">data[&apos;bv&apos;]=&apos;6590b9dba19442fb0fa8ca7917e0beca&apos;</span><br><span class="line">data[&apos;doctype&apos;]=&apos;json&apos;</span><br><span class="line">data[&apos;version&apos;]=&apos;2.1&apos;</span><br><span class="line">data[&apos;keyfrom&apos;]=&apos;fanyi.web&apos;</span><br><span class="line">data[&apos;action&apos;]=&apos;FY_BY_CLICKBUTTION&apos;</span><br><span class="line"></span><br><span class="line">data=urllib.parse.urlencode(data).encode(&apos;utf-8&apos;)</span><br><span class="line">response=urllib.request.urlopen(url,data)</span><br><span class="line">html=response.read().decode(&apos;utf-8&apos;)</span><br><span class="line"></span><br><span class="line">target=json.loads(html)  #把html字符串载入 得到一个字典</span><br><span class="line">print(&quot;翻译结果:%s&quot; %(target[&apos;translateResult&apos;][0][0][&apos;tgt&apos;]))</span><br></pre></td></tr></table></figure>
<h1 id="使用time，来显得爬虫像人在访问，避免反爬虫机制"><a href="#使用time，来显得爬虫像人在访问，避免反爬虫机制" class="headerlink" title="使用time，来显得爬虫像人在访问，避免反爬虫机制"></a>使用time，来显得爬虫像人在访问，避免反爬虫机制</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request</span><br><span class="line">import urllib.parse</span><br><span class="line">import json       #美化程序得到用户需要的结果</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">	content=input(&apos;请输入需要翻译的内容(输入q!退出程序):&apos;)</span><br><span class="line">	if content==&apos;q!&apos;:</span><br><span class="line">		break</span><br><span class="line"></span><br><span class="line">	url=&apos;http://fanyi.youdao.com/translate?smartresult=dict&amp;smartresult=rule&apos;</span><br><span class="line"></span><br><span class="line">	head=&#123;&#125;</span><br><span class="line">	head[&apos;User-Agent&apos;]=&apos;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36&apos;</span><br><span class="line"></span><br><span class="line">	data=&#123;&#125;</span><br><span class="line">	data[&apos;i&apos;]=content</span><br><span class="line">	data[&apos;from&apos;]=&apos;AUTO&apos;</span><br><span class="line">	data[&apos;to&apos;]=&apos;AUTO&apos;</span><br><span class="line">	data[&apos;smartresult&apos;]=&apos;dict&apos;</span><br><span class="line">	data[&apos;client&apos;]=&apos;fanyideskweb&apos;</span><br><span class="line">	data[&apos;salt&apos;]=&apos;15729229099067&apos;</span><br><span class="line">	data[&apos;sign&apos;]=&apos;06ecc0ff66e31488dd986c3da62d2303&apos;</span><br><span class="line">	data[&apos;ts&apos;]=&apos;1572922909906&apos;</span><br><span class="line">	data[&apos;bv&apos;]=&apos;6590b9dba19442fb0fa8ca7917e0beca&apos;</span><br><span class="line">	data[&apos;doctype&apos;]=&apos;json&apos;</span><br><span class="line">	data[&apos;version&apos;]=&apos;2.1&apos;</span><br><span class="line">	data[&apos;keyfrom&apos;]=&apos;fanyi.web&apos;</span><br><span class="line">	data[&apos;action&apos;]=&apos;FY_BY_CLICKBUTTION&apos;</span><br><span class="line"></span><br><span class="line">	data=urllib.parse.urlencode(data).encode(&apos;utf-8&apos;)</span><br><span class="line">	response=urllib.request.urlopen(url,data)</span><br><span class="line">	html=response.read().decode(&apos;utf-8&apos;)</span><br><span class="line"></span><br><span class="line">	target=json.loads(html)  #把html字符串载入 得到一个字典</span><br><span class="line">	print(&quot;翻译结果:%s&quot; %(target[&apos;translateResult&apos;][0][0][&apos;tgt&apos;]))</span><br><span class="line">	time.sleep(5)</span><br></pre></td></tr></table></figure>

<h1 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h1><p>步骤:<br>1.参数是一个字典{‘类型’:’代理IP:端口号’}<br>proxy_support=urllib.request.ProxyHandler({})<br>2.定制，创建一个opener<br>opener=urllib.request.build_opener(proxy_support)<br>3a.安装opener<br>urllib.request.install_opener(opener)<br>3b.调用opener<br>opener.open(url)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request</span><br><span class="line">url=&apos;http://whatismyip.com,tw&apos;</span><br><span class="line">proxy_support=urllib.request.ProxyHandler(&#123;&apos;http&apos;:&apos;119.6.144.73:81&apos;&#125;)</span><br><span class="line">opener=urllib.request.build_opener(proxy_support)</span><br><span class="line">opener.addheaders=[(&apos;User-Agent&apos;,&apos;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36&apos;)]</span><br><span class="line">urllib.request.install_opener(opener)</span><br><span class="line">response=urllib.request.urlopen(url)</span><br><span class="line">html=reponse.read().decode(&apos;utf-8&apos;)</span><br><span class="line">print(html)</span><br></pre></td></tr></table></figure>
































































      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/07/reptile3-1/" data-id="ck30fjt0o0007mku384u452cx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reptile3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/05/reptile3/" class="article-date">
  <time datetime="2019-11-05T02:01:17.000Z" itemprop="datePublished">2019-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/05/reptile3/">reptile3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="爬虫实战2"><a href="#爬虫实战2" class="headerlink" title="爬虫实战2"></a>爬虫实战2</h2><h1 id="利用有道词典来翻译文本"><a href="#利用有道词典来翻译文本" class="headerlink" title="利用有道词典来翻译文本"></a>利用有道词典来翻译文本</h1><p>‘’’<br>import urllib.request<br>import urllib.parse<br>import json       #美化程序得到用户需要的结果</p>
<p>content=input(‘请输入需要翻译的内容’)</p>
<p>url=’<a href="http://fanyi.youdao.com/translate?smartresult=dict&amp;smartresult=rule&#39;" target="_blank" rel="noopener">http://fanyi.youdao.com/translate?smartresult=dict&amp;smartresult=rule&#39;</a><br>data={}<br>data[‘i’]=content<br>data[‘from’]=’AUTO’<br>data[‘to’]=’AUTO’<br>data[‘smartresult’]=’dict’<br>data[‘client’]=’fanyideskweb’<br>data[‘salt’]=’15729229099067’<br>data[‘sign’]=’06ecc0ff66e31488dd986c3da62d2303’<br>data[‘ts’]=’1572922909906’<br>data[‘bv’]=’6590b9dba19442fb0fa8ca7917e0beca’<br>data[‘doctype’]=’json’<br>data[‘version’]=’2.1’<br>data[‘keyfrom’]=’fanyi.web’<br>data[‘action’]=’FY_BY_CLICKBUTTION’</p>
<p>data=urllib.parse.urlencode(data).encode(‘utf-8’)<br>reponse=urllib.request.urlopen(url,data)<br>html=reponse.read().decode(‘utf-8’)</p>
<p>target=json.loads(html)  #把html字符串载入 得到一个字典<br>print(“翻译结果:%s” %(target[‘translateResult’][0][0][‘tgt’]))</p>
<p>‘’’<br>import json<br>import random<br>import time<br>import hashlib<br>from urllib import parse<br>from urllib import request</p>
<p>#等待用户输入需要翻译的单词<br>i = input(‘请输入需要翻译的句子：’)<br>#有道翻译的url链接<br>url = ‘<a href="http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;" target="_blank" rel="noopener">http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;</a><br>#构造有道的加密参数<br>client = “fanyideskweb”<br>ts = int(time.time() * 1000)<br>salt = str(ts + random.randint(1, 10))<br>flowerStr = “p09@Bn{h02_BIEe]$P^nG”<br>sign = hashlib.md5((client + i + salt + flowerStr).encode(‘utf-8’)).hexdigest()<br>bv = ‘9deb57d53879cce82ff92bccf83a3e4c’<br>#创建Form_Data字典，存储请求体<br>Form_Data = {}<br>#需要翻译的文字<br>Form_Data[‘i’] = i<br>#下面这些都先按照我们之前抓包获取到的数据<br>Form_Data[‘from’] = ‘AUTO’<br>Form_Data[‘to’] = ‘AUTO’<br>Form_Data[‘smartresult’] = ‘dict’<br>Form_Data[‘client’] = client<br>Form_Data[‘salt’] = salt<br>Form_Data[‘sign’] = sign<br>Form_Data[‘ts’] = ts<br>Form_Data[‘bv’] = bv<br>Form_Data[‘doctype’] = ‘json’<br>Form_Data[‘version’] = ‘2.1’<br>Form_Data[‘keyfrom’] = ‘fanyi.web’<br>Form_Data[‘action’] = ‘FY_BY_REALTIME’<br>Form_Data[‘typoResult’] = ‘false’<br>#对数据进行字节流编码处理<br>data = parse.urlencode(Form_Data).encode(‘utf-8’)<br>#创建Request对象<br>req = request.Request(url=url, data=data, method=’POST’)<br>#写入header信息<br>req.add_header(‘User-Agent’, ‘Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36’)<br>req.add_header(‘cookie’, ‘OUTFOX_SEARCH_USER_ID=-1626129620@10.168.8.63’)<br>req.add_header(‘Referer’, ‘<a href="http://fanyi.youdao.com/&#39;" target="_blank" rel="noopener">http://fanyi.youdao.com/&#39;</a>)<br>#传入创建好的Request对象<br>response = request.urlopen(req, timeout=5)<br>#读取信息并进行字节流解码<br>html = response.read().decode(‘utf-8’)<br>#返回来的json字符串解析成字典<br>translate_results = json.loads(html)<br>#打印翻译结果<br>translate_result = translate_results[“translateResult”][0][0][‘tgt’]<br>print(“翻译的结果是：%s” % translate_result)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/05/reptile3/" data-id="ck30fjt1c000bmku3eb556fct" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reptile2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/05/reptile2/" class="article-date">
  <time datetime="2019-11-05T01:16:41.000Z" itemprop="datePublished">2019-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/05/reptile2/">reptile2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="爬虫实战"><a href="#爬虫实战" class="headerlink" title="爬虫实战"></a>爬虫实战</h3><p>1.download cat<br>‘’’<br>import urllib.request<br>reponse=urllib.request.urlopen(“<a href="http://placekitten.com/g/500/600&quot;" target="_blank" rel="noopener">http://placekitten.com/g/500/600&quot;</a>)<br>#urlopen的参数既可以是一个字符串也可以是一个request对象<br>cat_img=reponse.read()<br>with open(‘cat_500_600.jpg’,’wb’)as f:<br>    f.write(cat_img)<br>‘’’</p>
<p>注：pyhon传统读文件方式：</p>
<p>f = open(‘ECKai/haha.txt’,’r’)<br>content = f.read()<br>f.close()</p>
<p>但是文件打开时可能会报错，例如文件不存在时，会抛出IOError。这时需要使用如下方法打开文件：</p>
<p>try：<br>    f = open(‘ECKai/haha.txt’,’r’)<br>    print(f.read())<br>finally:<br>    if f:<br>        f.close()</p>
<p>为了简便上述代码，出现了with open as 的代码形式，with语句会自动调用close()：</p>
<p>with open(‘ECKai/haha.txt’,’r’) as f:<br>    print(f.read())</p>
<p>read()：一次读取所有的文件，若文件较大，则占用内存极大，占用时间大。<br>readlines()：分行读取。</p>
<p>for line in f.readlines():<br>    print(line)</p>
<p>read(size)：最多读取size个字节。</p>
<p>写文件：</p>
<p>可以反复调用write()来写入文件，但是务必要调用f.close()来关闭文件。<br>当我们写文件时，操作系统往往不会立刻把数据写入磁盘，而是放到内存缓存起来，<br>空闲的时候再慢慢写入。只有调用close()方法时，操作系统才保证把没有写入的数据<br>全部写入磁盘。忘记调用close()的后果是数据可能只写了一部分到磁盘，剩下的丢失了<br>。with语句会自动调用close()。</p>
<p>with open(‘ECKai/haha.txt’,’w’) as f:<br>    f.write(“woaiLJR”)<br>    f.close</p>
<p>※wb，rb读写二进制，比如图片、视频等等。</p>
<p>open(‘ECKai/haha.txt’,’wb’)</p>
<p>※修改编码方式，默认UTF-8</p>
<p>f = open(‘ECKai/haha.txt’, ‘r’, encoding=’gbk’)</p>
<p>注2：<br>1.reponse.geturl()<br>得到访问的具体的地址<br>2.reponse.info()<br>得到的是一个HTTPMessage的对象 可以把这个对象打印出来<br>print(reponse.info())<br>3.reponse.getcode()<br>得到的是http的状态</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/05/reptile2/" data-id="ck30fjt1b000amku3cdw5hvg0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reptile1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/05/reptile1/" class="article-date">
  <time datetime="2019-11-05T00:37:00.000Z" itemprop="datePublished">2019-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/05/reptile1/">reptile1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><h1 id="python如何访问互联网？"><a href="#python如何访问互联网？" class="headerlink" title="python如何访问互联网？"></a>python如何访问互联网？</h1><p>urllib<br>1.URL的一般格式为（带方括号[]的为可选项）<br>protocol://hostname[:port]/path/[;parameters][?query][?query]#fragment<br>2.URL由三部分组成：<br>（1）第一部分是协议：http,https,ftp,file,ed2k…<br> (2) 第二部分是存放资源的服务器的域名系统或IP地址（有时候要包含端口号，各种<br> 传输协议都有默认的端口号，如http的默认端口为80）<br> （3）第三部分是资源的具体地址，如目录或文件名</p>
<p> ‘’’<br> import urllib.request<br> reponse=urllib.request.urlopen(“<a href="http://www.fishc.com&quot;" target="_blank" rel="noopener">http://www.fishc.com&quot;</a>) #打开网页的过程就是从服务器上获取网页的过程<br> html=reponse.read() #读这对象<br> html=html.decode(‘utf-8’) #解码<br> print(html)<br> ‘’’</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/05/reptile1/" data-id="ck30fjt0p0008mku32g4nc20v" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Study5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/04/Study5/" class="article-date">
  <time datetime="2019-11-03T23:54:53.000Z" itemprop="datePublished">2019-11-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/04/Study5/">Study5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="构造程序逻辑经典的例子"><a href="#构造程序逻辑经典的例子" class="headerlink" title="构造程序逻辑经典的例子"></a>构造程序逻辑经典的例子</h1><p>1.水仙花数<br>说明：水仙花数也被称为超完全数字不变数、自恋数、自幂数、阿姆斯特朗数，<br>它是一个3位数，该数字每个位上数字的立方之和正好等于它本身，<br>例如：$1^3 + 5^3+ 3^3=153$。<br>‘’’<br>for num in range(100,1000):<br>    low=num%10<br>    mid=num//10%10<br>    high=num//100<br>    if num==low<strong>3+mid</strong>3+high**3:<br>        print(num)<br>‘’’</p>
<p>2.CRAPS赌博游戏<br>CRAPS又称花旗骰，是美国拉斯维加斯非常受欢迎的一种的桌上赌博游戏。<br>该游戏使用两粒骰子，玩家通过摇两粒骰子获得点数进行游戏。简单的规则是：<br>玩家第一次摇骰子如果摇出了7点或11点，玩家胜；玩家第一次如果摇出2点、3点或12点，<br>庄家胜；其他点数玩家继续摇骰子，如果玩家摇出了7点，庄家胜；<br>如果玩家摇出了第一次摇的点数，玩家胜；其他点数，玩家继续要骰子，直到分出胜负。<br>‘’’<br>Craps赌博游戏<br>我们设定玩家开始游戏时有1000元的赌注<br>游戏结束的条件是玩家输光所有的赌注</p>
<p>from random import randint<br>money=1000<br>while money&gt;0:<br>    print(‘你的资产:’,money)<br>    needs_go_on=False<br>    while True:<br>        debt=int(input(‘请下注:’))<br>        if 0&lt;debt&lt;=money:<br>            break<br>    first=randint(1,6)+randint(1,6)<br>    print(‘玩家摇出的%d点数’ %first)<br>    if first==7 or first==11:<br>        print(‘玩家胜’)<br>        money+=debt<br>    elif first==2 or first==3 or first==12:<br>        print(‘庄家胜’)<br>        money-=debt<br>    else:<br>        needs_go_on=True<br>    while needs_go_on:<br>        needs_go_on=False<br>        current=randint(1,6)+randint(1,6)<br>        print(‘玩家摇出的%d点数’%current）<br>        if current==7:<br>            print(‘庄家胜’)<br>            money-=debt<br>        elif current==first:<br>            print(‘玩家胜’)<br>            money+=debt<br>        else:<br>            needs_go_on=True<br>print(‘你破产了游戏结束’)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/04/Study5/" data-id="ck30fjt0m0006mku36x83gze5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Study4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/02/Study4/" class="article-date">
  <time datetime="2019-11-02T00:39:20.000Z" itemprop="datePublished">2019-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/02/Study4/">Study4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h2><p>在Python中构造循环结构有两种做法，一种是for-in循环，一种是while循环。</p>
<h1 id="for-in循环，一种是while循环。"><a href="#for-in循环，一种是while循环。" class="headerlink" title="for-in循环，一种是while循环。"></a>for-in循环，一种是while循环。</h1><p>如果明确的知道循环执行的次数或者要对一个容器进行迭代（后面会讲到），<br>那么我们推荐使用for-in循环。例如下面代码计算1—100求和的结果<br>‘’’<br>sum=0<br>for x in range(101):<br>    sum+=x<br>print(sum)<br>‘’’<br>注：需要说明的是上面代码中的range(101)可以用来构造一个从0到100的取值范围，<br>这样就可以构造出一个整数的序列并用于循环中，例如：</p>
<p>range(101)可以产生一个0到100的整数序列。<br>range(1, 100)可以产生一个1到99的整数序列。<br>range(1, 100, 2)可以产生一个1到99的奇数序列，其中2是步长，即数值序列的增量。</p>
<p>了解了这个知识以后，我们可以用下面的代码计算1-100之间的偶数求和<br>‘’’<br>sum=0<br>for x in range(2,101,2):<br>    sum+=x<br>print(sum)<br>‘’’<br>也可以通过在循环使用分支结构来实现相同的功能，代码如下：<br>‘’’<br>sum=0<br>for x in range(1,101):<br>    if x%2==0:<br>        sum+=x%2<br>print(sum)<br>‘’’</p>
<h1 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h1><p>如果要构造不知道具体循环次数的循环结构，我们推荐使用while循环。<br>while循环通过一个能够产生或转换出bool值的表达式来控制循环，<br>表达式的值为True循环继续，表达式的值为False循环结束。<br>下面我们通过一个“猜数字”的小游戏（计算机出一个1~100之间的随机数，<br>人输入自己猜的数字，计算机给出对应的提示信息，直到人猜出计算机出的数字）<br>来看看如何使用while循环。<br>‘’’<br>import random</p>
<p>answer=random.randint(1,100)<br>count=0<br>while True:<br>    counter+=1<br>    number=int(input(‘请输入’))<br>    if number&lt;answer:<br>        print(‘大一点’)<br>    elif number &gt; answer:<br>        print(‘小一点’)<br>    else:<br>        print(‘恭喜你猜对了!’)<br>        break<br>print(‘你总共猜了%d次’ % counter)<br>if counter &gt; 7:<br>    print(‘你的智商余额明显不足’)<br>‘’’<br>注：<br>random.random()函数是这个模块中最常用的方法了，它会生成一个随机的浮点数，<br>范围是在0.0~1.0之间。</p>
<p>random.uniform()正好弥补了上面函数的不足，它可以设定浮点数的范围，一个是上限，一个是下限。</p>
<p>random.randint()随机生一个整数int类型，可以指定这个整数的范围，同样有上限和下限值，python random.randint。</p>
<p>random.choice()可以从任何序列，比如list列表中，选取一个随机的元素返回，可以用于字符串、列表、元组等。</p>
<p>random.shuffle()如果你想将一个序列中的元素，随机打乱的话可以用这个函数方法。</p>
<p>random.sample()可以从指定的序列中，随机的截取指定长度的片断，不作原地修改。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/11/02/Study4/" data-id="ck30fjt0k0004mku31wia0yui" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Study3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/31/Study3/" class="article-date">
  <time datetime="2019-10-31T12:28:18.000Z" itemprop="datePublished">2019-10-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/31/Study3/">Study3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="分支结构的练习"><a href="#分支结构的练习" class="headerlink" title="分支结构的练习"></a>分支结构的练习</h2><h1 id="1-英制单位英寸与公制单位厘米互换。"><a href="#1-英制单位英寸与公制单位厘米互换。" class="headerlink" title="1.英制单位英寸与公制单位厘米互换。"></a>1.英制单位英寸与公制单位厘米互换。</h1><p>‘’’<br>value=float(input(‘请输入长度:’))<br>unit=input(‘请输入单位’)<br>if unit==’in’ or unit==’英寸’:<br>    print(‘%f英寸=%f厘米’ %(value,value*2.54))<br>elif unit==’cm’ or unit==’厘米’:<br>    print(‘%f厘米=%f英寸’ %(value,value/2.54))<br>else:<br>    print(‘请输入有效单位’)<br>‘’’</p>
<h1 id="2-输入三条边长，如果能构成三角形就计算周长和面积。"><a href="#2-输入三条边长，如果能构成三角形就计算周长和面积。" class="headerlink" title="2.输入三条边长，如果能构成三角形就计算周长和面积。"></a>2.输入三条边长，如果能构成三角形就计算周长和面积。</h1><p>‘’’</p>
<p>a = float(input(‘a = ‘))<br>b = float(input(‘b = ‘))<br>c = float(input(‘c = ‘))<br>if a + b &gt; c and a + c &gt; b and b + c &gt; a:<br>    print(‘周长: %f’ % (a + b + c))<br>    p = (a + b + c) / 2<br>    area = (p * (p - a) * (p - b) * (p - c)) ** 0.5<br>    print(‘面积: %f’ % (area))<br>else:<br>    print(‘不能构成三角形’)</p>
<p>‘’’</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/10/31/Study3/" data-id="ck30fjt0i0002mku3a4eh68za" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Study2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/30/Study2/" class="article-date">
  <time datetime="2019-10-30T11:36:33.000Z" itemprop="datePublished">2019-10-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/30/Study2/">Study2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="语言元素"><a href="#语言元素" class="headerlink" title="语言元素"></a>语言元素</h2><h1 id="指令和程序"><a href="#指令和程序" class="headerlink" title="指令和程序"></a>指令和程序</h1><p>计算机的硬件系统通常由五大部件构成，包括：运算器，控制器，存储器，<br>输入设备和输出设备。其中控制器和运算器放在一起就是我们通常说的中央处理器，<br>它的功能是执行各种运算和控制指令以及处理计算机软件中的数据。我们通常所说的<br>程序实际上就是指令的集合，我们程序就是将一系列的指令按照某种方式组织到一起<br>，然后通过指令去控制计算机做我们想让它做的事情。虽然它们的元器件做工越来越<br>精密，处理能力越来越强大，但究其本质来说仍然属于“冯·诺依曼结构”的计算机。</p>
<p>冯诺依曼结构的计算机有两个关键点：<br>（1）指出了存储设备要与中央管理器分开<br>（2）提出了数据要以二进制形式编码</p>
<h1 id="变量和类型"><a href="#变量和类型" class="headerlink" title="变量和类型"></a>变量和类型</h1><p>在程序设计中，变量是一种存储数据的载体。计算机中的变量是实际存在的数据或者说<br>是存储器中存储数据的一块内存空间，变量的值可以被读取和修改，这是所有计算和控制<br>的基础。计算机能处理的数据有很多种类型，除了数值之外还可以处理文本、图形、音频、<br>视频等各种各样的数据，那么不同的数据就需要定义不同的存储类型。Python中的数据类<br>型很多，而且也允许我们自定义新的数据类型（这一点在后面会讲到），我们先介绍几种<br>常用的数据类型。</p>
<p>1.整型：Python中可以处理任意大小的整数（Python 2.x中有int和long两种类型的整数，<br>但这种区分对Python来说意义不大，因此在Python 3.x中整数只有int这一种了），而且<br>支持二进制（如0b100，换算成十进制是4）、八进制（如0o100，换算成十进制是64）、<br>十进制（100）和十六进制（0x100，换算成十进制是256）的表示法。<br>2.浮点型：浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时，<br>一个浮点数的小数点位置是可变的，浮点数除了数学写法（如123.456）之外还支持科学<br>计数法（如1.23456e2）。<br>3.字符串型：字符串是以单引号或双引号括起来的任意文本，比如’hello’和”hello”,<br>字符串还有原始字符串表示法、字节字符串表示法、Unicode字符串表示法，而且可以<br>书写成多行的形式（用三个单引号或三个双引号开头，三个单引号或三个双引号结尾）。<br>4.布尔型：布尔值只有True、False两种值，要么是True，要么是False，在Python中，<br>可以直接用True、False表示布尔值（请注意大小写），也可以通过布尔运算计算出来<br>（例如3 &lt; 5会产生布尔值True，而2 == 1会产生布尔值False）。<br>5.复数型：形如3+5j，跟数学上的复数表示一样，唯一不同的是虚部的i换成了j。<br>实际上，这个类型并不能算作常用类型，大家了解下就可以了。</p>
<p>#变量命名<br>对于每个变量我们需要给它取一个名字，就如同我们每个人都有属于自己的响亮的<br>名字一样。在Python中，变量命名需要遵循以下这些必须遵守硬性规则和强烈建议<br>遵守的非硬性规则。<br>1.硬性规则<br>变量名由字母、数字和下划线构成，数字不能开头。<br>大小写敏感（大写的A和小写的a是两个不同的变量）<br>不要跟关键字（有特殊含义的单词，后面会讲到）和系统保留字（如函数、模块等的名字）冲突。</p>
<p>2.PEP8要求<br>用小写字母拼写，多个单词用下划线连接。<br>受保护的实例属性用单个下划线开头。<br>私有的实例属性用两个下划线开头。</p>
<p>#变量的使用<br>1.在Python中可以使用type函数对变量的类型进行检查。</p>
<p>2.可以使用Python中内置的函数对变量类型进行转换。</p>
<p>int()：将一个数值或字符串转换成整数，可以指定进制。<br>float()：将一个字符串转换成浮点数。<br>str()：将指定的对象转换成字符串形式，可以指定编码。<br>chr()：将整数转换成该编码对应的字符串（一个字符）。<br>ord()：将字符串（一个字符）转换成对应的编码（整数）。</p>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1.输入圆的半径计算周长和面积<br>‘’’import math<br>   radius = float(input(‘请输入圆的半径: ‘))<br>   perimeter = 2 * math.pi * radius<br>   area = math.pi * radius * radius<br>   print(‘周长: %.2f’ % perimeter)<br>   print(‘面积: %.2f’ % area)      ‘’’</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zzf-pyf.github.io/2019/10/30/Study2/" data-id="ck30fjt0a0000mku32j7z79x7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/11/13/datamining1/">datamining1</a>
          </li>
        
          <li>
            <a href="/2019/11/09/reptile4/">reptile4</a>
          </li>
        
          <li>
            <a href="/2019/11/07/reptile3-1/">reptile3</a>
          </li>
        
          <li>
            <a href="/2019/11/05/reptile3/">reptile3</a>
          </li>
        
          <li>
            <a href="/2019/11/05/reptile2/">reptile2</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 pyf<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>